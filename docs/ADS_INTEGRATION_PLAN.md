# 광고 시스템 연동 계획

## 개요

Pitch Travel 서비스에 광고 시스템을 통합하여 수익 모델을 다각화하고 검증합니다.

## 1. 광고 네트워크 선택

### 1.1 조사 대상

- **Google AdSense**
  - 가장 널리 사용되는 광고 네트워크
  - 승인 조건이 명확함
  - 다양한 광고 형식 제공
  - 자동 타겟팅
  - 한국 지역 타겟팅 지원

- **네이버 애드포스트**
  - 한국 시장 특화
  - 높은 수익률 가능
  - 승인 조건이 까다로울 수 있음

- **카카오 애드핏**
  - 카카오 플랫폼 연동 가능
  - 한국 시장 특화
  - 승인 조건 확인 필요

### 1.2 선택: Google AdSense

**선택 이유**:
- 가장 널리 사용되어 문서와 커뮤니티 지원이 풍부함
- 승인 조건이 명확하고 투명함
- 다양한 광고 형식 제공 (배너, 직사각형, 자동 크기 등)
- 자동 타겟팅으로 사용자에게 관련성 높은 광고 표시
- 한국 지역 타겟팅 지원

**향후 확장**:
- 네이버 애드포스트, 카카오 애드핏 등 추가 검토
- 직접 광고 주문 시스템 구축 검토

## 2. 구현 내용

### 2.1 광고 컴포넌트

#### 2.1.1 AdBanner 컴포넌트

**파일**: `components/ads/ad-banner.tsx`

**주요 기능**:
- Google AdSense 광고 표시
- 다양한 광고 형식 지원 (배너, 직사각형, 자동)
- 광고 로딩 상태 처리
- AdSense 스크립트 자동 로드
- 플레이스홀더 표시 (AdSense 승인 전)

**Props**:
- `adSlot`: 광고 슬롯 ID
- `adClient`: 광고 클라이언트 ID
- `format`: 광고 형식 ("banner", "rectangle", "auto")
- `width`, `height`: 광고 크기 (픽셀)
- `showPlaceholder`: 플레이스홀더 표시 여부

#### 2.1.2 AdSidebar 컴포넌트

**파일**: `components/ads/ad-sidebar.tsx`

**주요 기능**:
- 사이드바에 최적화된 광고 크기 (300x250)
- Sticky 위치 지원
- 반응형 처리

**Props**:
- `adSlot`: 광고 슬롯 ID
- `adClient`: 광고 클라이언트 ID
- `sticky`: Sticky 위치 여부

### 2.2 광고 배치 전략

#### 2.2.1 목록 페이지 (`app/page.tsx`)

**배치 위치**:
- 필터 사이드바 하단
- 300x250 직사각형 광고

**이유**:
- 사용자가 필터를 조작하는 동안 노출
- 콘텐츠를 방해하지 않는 위치

#### 2.2.2 상세 페이지 (`app/travels/[contentId]/page.tsx`)

**배치 위치**:
- 우측 사이드바 (날씨 위젯 아래)
- 300x250 직사각형 광고

**이유**:
- 콘텐츠와 분리되어 사용자 경험에 영향 최소화
- 스크롤 시에도 노출 가능 (Sticky 옵션)

#### 2.2.3 향후 추가 가능한 위치

- 목록 페이지 하단 (배너 광고)
- 상세 페이지 콘텐츠 중간 (인라인 광고)
- 모바일 하단 (배너 광고)

## 3. 환경 변수 설정

### 3.1 필요한 환경 변수

```env
# Google AdSense 클라이언트 ID
NEXT_PUBLIC_ADSENSE_CLIENT_ID=ca-pub-xxxxxxxxxxxxxxxx
```

### 3.2 AdSense 승인 절차

1. **Google AdSense 계정 생성**
   - [Google AdSense](https://www.google.com/adsense/) 회원가입
   - 웹사이트 URL 등록
   - 사이트 검토 요청

2. **승인 조건**
   - 충분한 콘텐츠 (최소 20-30개 페이지 권장)
   - 원본 콘텐츠
   - 명확한 네비게이션
   - 개인정보처리방침 및 이용약관 페이지

3. **승인 후**
   - 광고 슬롯 ID 생성
   - 광고 단위 생성 및 코드 복사
   - 환경 변수에 클라이언트 ID 추가

### 3.3 광고 슬롯 ID 설정

각 광고 위치마다 고유한 슬롯 ID를 생성하고, 컴포넌트에 전달:

```tsx
<AdSidebar 
  adSlot="1234567890" 
  adClient={process.env.NEXT_PUBLIC_ADSENSE_CLIENT_ID}
/>
```

## 4. 성과 측정

### 4.1 추적 지표

- **노출수 (Impressions)**: 광고가 표시된 횟수
- **클릭수 (Clicks)**: 광고 클릭 횟수
- **클릭률 (CTR)**: 클릭수 / 노출수
- **수익 (Revenue)**: 광고 수익

### 4.2 측정 방법

- Google AdSense 대시보드에서 자동 추적
- Google Analytics와 연동 가능
- 커스텀 이벤트 추적 (선택 사항)

### 4.3 최적화 전략

- **A/B 테스트**: 광고 위치 및 크기 테스트
- **사용자 행동 분석**: 클릭률이 높은 위치 파악
- **콘텐츠 분석**: 특정 여행지/카테고리에서의 광고 성과 분석

## 5. 주의사항

### 5.1 AdSense 정책 준수

- **클릭 유도 금지**: "광고를 클릭해주세요" 등의 문구 사용 금지
- **자동 클릭 금지**: 봇이나 스크립트를 통한 자동 클릭 금지
- **콘텐츠 정책 준수**: 저작권, 개인정보 등 관련 정책 준수

### 5.2 사용자 경험

- **과도한 광고 배치 금지**: 콘텐츠를 방해하지 않는 수준으로 제한
- **로딩 성능**: 광고 스크립트가 페이지 로딩을 지연시키지 않도록 최적화
- **반응형 처리**: 모바일에서도 적절한 크기로 표시

### 5.3 프라이버시

- **쿠키 동의**: GDPR, CCPA 등 개인정보 보호 규정 준수
- **개인정보처리방침**: 광고 추적에 대한 명시

## 6. 향후 개선 사항

### 6.1 추가 광고 네트워크

- 네이버 애드포스트 연동
- 카카오 애드핏 연동
- 직접 광고 주문 시스템 구축

### 6.2 고급 기능

- **네이티브 광고**: 콘텐츠와 자연스럽게 통합된 광고
- **동영상 광고**: 동영상 콘텐츠 광고
- **리타겟팅**: 방문한 사용자에게 맞춤형 광고

### 6.3 성과 최적화

- **머신러닝 기반 배치**: 사용자 행동 분석을 통한 최적 광고 배치
- **실시간 입찰 (RTB)**: 실시간으로 최고가 광고 선택
- **A/B 테스트 자동화**: 광고 배치 자동 최적화

## 7. 테스트 계획

### 7.1 기능 테스트

- [ ] AdSense 스크립트 로드 확인
- [ ] 광고 표시 확인 (승인 전 플레이스홀더)
- [ ] 반응형 크기 조정 확인
- [ ] Sticky 위치 동작 확인

### 7.2 성능 테스트

- [ ] 광고 스크립트 로딩 시간 측정
- [ ] 페이지 로딩 성능 영향 측정
- [ ] 메모리 사용량 확인

### 7.3 사용자 테스트

- [ ] 광고가 콘텐츠를 방해하지 않는지 확인
- [ ] 모바일에서의 사용성 확인
- [ ] 광고 클릭률 피드백 수집

## 8. 참고 자료

- [Google AdSense 문서](https://support.google.com/adsense)
- [AdSense 정책](https://support.google.com/adsense/answer/48182)
- [Next.js Script 컴포넌트](https://nextjs.org/docs/app/api-reference/components/script)

---

**최종 업데이트**: 2025년 11월
**다음 리뷰**: AdSense 승인 후 실제 광고 성과 분석

